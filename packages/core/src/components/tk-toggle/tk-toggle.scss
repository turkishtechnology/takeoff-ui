:host {
  display: inline-block;
  user-select: none;
}

.tk-toggle {
  label {
    display: flex;
    align-items: center;
    gap: var(--basic-radio-container-gap);
  }

  &.tk-toggle-xlarge {
    .tk-toggle-input-container {
      width: 60px;
      height: 32px;

      .tk-toggle-thumb {
        width: 28px;
        height: 28px;

        .tk-toggle-thumb-icon {
          font-size: 20px;
          width: 20px;
          height: 20px;
        }
      }

      .tk-toggle-input:checked+.tk-toggle-thumb {
        transform: translateX(28px);
      }
    }
  }

  &.tk-toggle-large {
    .tk-toggle-input-container {
      width: 52px;
      height: 28px;

      .tk-toggle-thumb {
        width: 24px;
        height: 24px;

        .tk-toggle-thumb-icon {
          font-size: 20px;
          width: 20px;
          height: 20px;
        }
      }

      .tk-toggle-input:checked+.tk-toggle-thumb {
        transform: translateX(24px);
      }
    }
  }

  &.tk-toggle-base {
    .tk-toggle-input-container {
      width: 44px;
      height: 24px;

      .tk-toggle-thumb {
        width: 20px;
        height: 20px;

        .tk-toggle-thumb-icon {
          font-size: 16px;
          width: 16px;
          height: 16px;
        }
      }

      .tk-toggle-input:checked+.tk-toggle-thumb {
        transform: translateX(20px);
      }
    }
  }

  &.tk-toggle-small {
    .tk-toggle-input-container {
      width: 36px;
      height: 20px;

      .tk-toggle-thumb {
        width: 16px;
        height: 16px;

        .tk-toggle-thumb-icon {
          font-size: 12px;
          width: 12px;
          height: 12px;
        }
      }

      .tk-toggle-input:checked+.tk-toggle-thumb {
        transform: translateX(16px);
      }
    }
  }

  &.tk-toggle-xsmall {
    .tk-toggle-input-container {
      width: 28px;
      height: 16px;

      .tk-toggle-thumb {
        width: 12px;
        height: 12px;

        .tk-toggle-thumb-icon {
          font-size: 8px;
          width: 8px;
          height: 8px;
        }
      }

      .tk-toggle-input:checked+.tk-toggle-thumb {
        transform: translateX(12px);
      }
    }
  }

  .tk-toggle-input-container {
    position: relative;
    background: var(--background-light);
    border-radius: 30px;
    transition: background-color 0.3s ease;
    cursor: pointer;

    &:has(.tk-toggle-input:disabled) {
      border: 1px solid var(--border-light);
      background: var(--static-light);

      .tk-toggle-input {
        cursor: not-allowed;
      }

      .tk-toggle-thumb {
        background: var(--background-light);
        box-shadow: none;
      }
    }

    &:has(.tk-toggle-input:hover:not(.tk-toggle-input:disabled):not(.tk-toggle-input:checked)) {
      background: var(--background-sub-base);
    }
  }

  .tk-toggle-input {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
    margin: 0;
    z-index: 200;

    &:checked+.tk-toggle-thumb {
      transform: translateX(28px);

      .tk-toggle-thumb-icon {
        display: flex;
      }
    }

    &:disabled+.tk-toggle-thumb {
      background-color: var(--background-light);

      .tk-toggle-thumb-icon {
        color: var(--icon-lightest);
      }
    }
  }

  .tk-toggle-thumb {
    display: flex;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 2px;
    left: 2px;
    transition:
      transform 0.3s ease,
      background-color 0.3s ease;
    border-radius: var(--radius-full);
    background: var(--background-lightest);
    box-shadow: var(--effect-1-default-base);

    .tk-toggle-thumb-icon {
      display: none;
    }
  }

  &:not(.tk-toggle-disabled) {
    &.tk-toggle-info {
      .tk-toggle-input-container:has(.tk-toggle-input:checked) {
        background-color: var(--states-info-base);

        .tk-toggle-thumb-icon {
          color: var(--states-info-dark);
        }
      }

      .tk-toggle-input:hover:checked+.tk-toggle-thumb {
        background-color: var(--states-info-lightest);
      }
    }

    &.tk-toggle-success {
      .tk-toggle-input-container:has(.tk-toggle-input:checked) {
        background-color: var(--states-success-base);

        .tk-toggle-thumb-icon {
          color: var(--states-success-dark);
        }
      }

      .tk-toggle-input:hover:checked+.tk-toggle-thumb {
        background-color: var(--states-success-lightest);
      }
    }

    .tk-toggle-input-container:has(.tk-toggle-input:focus-visible) {
      outline: 2px solid var(--states-info-base);
      outline-offset: 2px;
    }

    &.tk-toggle-invalid {
      .tk-toggle-input-container {
        border: 1px solid var(--states-danger-base);

        &:has(.tk-toggle-input:checked) {
          background-color: var(--states-danger-base);

          .tk-toggle-thumb {
            background: var(--background-lightest);
          }

          .tk-toggle-thumb-icon {
            color: var(--states-danger-base);
          }
        }
      }
    }
  }

  .tk-toggle-label {
    color: var(--text-darkest);

    font-family: var(--desktop-body-s-font);
    font-size: var(--desktop-body-s-size);
    font-style: normal;
    font-weight: 400;
    line-height: var(--desktop-body-s-line-height);
    /* 142.857% */
  }

  &.tk-toggle-disabled {
    .tk-toggle-label {
      color: var(--text-sub-base);
    }
  }
}