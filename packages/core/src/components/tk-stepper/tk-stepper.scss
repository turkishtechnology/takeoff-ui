:host {
  --circle-size: clamp(1.5rem, 5vw, 2rem);
  --spacing: clamp(0.25rem, 2vw, 0.5rem);
}

.tk-stepper {
  list-style-type: none;

  &.horizontal {
    display: flex;

    .tk-stepper-item {
      &.flip {
        &::after {
          top: calc(var(--circle-size) * 2) !important;
        }
      }
    }

    .tk-stepper-content {
      &.flip {
        display: flex;
        flex-direction: column-reverse;
        .tk-step-info {
          display: flex;
          flex-direction: column;
          margin-bottom: 0.5rem;
          line-height: 1;
        }
      }
    }


    &.basic {
      .tk-stepper-item {
        display: flex;
        flex-direction: column;
        flex: 1;
        text-align: center;


        &:not(:last-child) {
          &:after {
            content: "";
            position: relative;
            top: calc(var(--circle-size) / 2);
            width: calc(100% - var(--circle-size) - calc(var(--spacing) * 2));
            left: calc(50% + calc(var(--circle-size) / 2 + var(--spacing)));
            height: 2px;
            background-color: var(--background-light);
            order: -1;
          }
        }

        .tk-stepper-icon {
          --size: 5rem;
          content: "";
          display: flex;
          align-items: center;
          justify-content: center;
          width: var(--circle-size);
          height: var(--circle-size);
          border-radius: 50%;
          margin: 0 auto 1rem;
          color: white;
        }

        &.completed {
          .tk-stepper-icon {
            background-color: var(--static-light);
            border: 2px solid var(--primary-base);
            color: var(--primary-base);
          }
          &::after {
            background-color: var(--primary-base) !important;
          }
        }

        &.active {
          .tk-stepper-icon {
            background-color: var(--primary-base);
            border: 2px solid var(--primary-base);
            color: var(--static-light);
          }
        }

        &.inactive {
          .tk-stepper-icon {
            background-color: var(--icon-light);
            border: 2px solid var(--border-light);
            color: var(--static-light);
          }
        }

      }
    }

    &.icon {
      .tk-stepper-item {
        display: flex;
        flex-direction: column;
        flex: 1;
        text-align: center;

        &:not(:last-child) {
          &:after {
            content: "";
            position: relative;
            top: calc(var(--circle-size) / 2);
            width: calc(100% - var(--circle-size) - calc(var(--spacing) * 2));
            left: calc(50% + calc(var(--circle-size) / 2 + var(--spacing)));
            height: 2px;
            background-color: var(--background-light);
            order: -1;
          }
        }




        .tk-stepper-icon {
          --size: 5rem;
          content: "";
          display: flex;
          align-items: center;
          justify-content: center;
          width: var(--circle-size);
          height: var(--circle-size);
          border-radius: 50%;
          margin: 0 auto 1rem;
          color: white;
        }

        &.completed {
          .tk-stepper-icon {
            background-color: var(--static-light);
            border: 2px solid var(--primary-base);
            color: var(--primary-base);
          }
          &::after {
            background-color: var(--primary-base) !important;
          }
        }

        &.active {
          .tk-stepper-icon {
            background-color: var(--primary-base);
            border: 2px solid var(--primary-base);
            color: var(--static-light);
          }
        }

        &.inactive {
          .tk-stepper-icon {
            background-color: var(--icon-light);
            border: 2px solid var(--border-light);
            color: var(--static-light);
          }
        }

      }
    }

    &.number {
      .tk-stepper-item {
        display: flex;
        flex-direction: column;
        flex: 1;
        text-align: center;

        &:not(:last-child) {
          &:after {
            content: "";
            position: relative;
            top: calc(var(--circle-size) / 2);
            width: calc(100% - var(--circle-size) - calc(var(--spacing) * 2));
            left: calc(50% + calc(var(--circle-size) / 2 + var(--spacing)));
            height: 2px;
            background-color: var(--background-light);
            order: -1;
          }
        }


        .tk-stepper-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: var(--circle-size);
          height: var(--circle-size);
          border-radius: 50%;
          margin: 0 auto 1rem;
          color: var(--static-light);
          font-family: "Geologica", sans-serif;
          font-size: var(--desktop-body-xs-font);
          font-weight: bold;
        }

        &.completed {
          .tk-stepper-icon {
            background-color: var(--static-light);
            border: 2px solid var(--primary-base);
            color: var(--primary-base);
          }
          &::after {
            background-color: var(--primary-base) !important;
          }
        }

        &.active {
          .tk-stepper-icon {
            background-color: var(--primary-base);
            border: 2px solid var(--primary-base);
            color: var(--static-light);
          }
        }

        &.inactive {
          .tk-stepper-icon {
            background-color: var(--icon-light);
            border: 2px solid var(--border-light);
            color: var(--static-light);
          }
        }

      }
    }

  }

  &.vertical {
    max-width: 256px;
    &.basic {
     .tk-stepper-item {
       position: relative;
       display: flex;
       gap: 1.5rem;

       &:last-child {
         .tk-stepper-content {
           &:before {
             display: none;
           }
         }
       }

       &.completed {
         .tk-stepper-icon {
           background-color: var(--static-light);
           border: 2px solid var(--primary-base);
           color: var(--primary-base);
         }
         .tk-stepper-content {
           &::before {
             background-color: var(--primary-base) !important;
           }
         }
       }

       &.active {
         .tk-stepper-icon {
           background-color: var(--primary-base);
           border: 2px solid var(--primary-base);
           color: var(--static-light);
         }
         &::before {
           background-color: var(--primary-base) !important;
         }
       }

       &.inactive {
         .tk-stepper-icon {
           background-color: var(--icon-light);
           border: 2px solid var(--border-light);
           color: var(--static-light);
         }
         &::before {
           background-color: var(--primary-base) !important;
         }
       }

       .tk-stepper-icon {
         position: absolute;
         left: -16px;
         z-index: 2;
         background-color: red;
         border-radius: 50%;
         width: var(--circle-size);
         height: var(--circle-size);
         display: flex;
         justify-content: center;
         align-items: center;
       }


     }
   }

    &.icon {
      .tk-stepper-item {
        position: relative;
        display: flex;
        gap: 1.5rem;

        &:last-child {
          .tk-stepper-content {
            &:before {
              display: none;
            }
          }
        }

        &.completed {
          .tk-stepper-icon {
            background-color: var(--static-light);
            border: 2px solid var(--primary-base);
            color: var(--primary-base);
          }
          .tk-stepper-content {
            &::before {
              background-color: var(--primary-base) !important;
            }
          }
        }

        &.active {
          .tk-stepper-icon {
            background-color: var(--primary-base);
            border: 2px solid var(--primary-base);
            color: var(--static-light);
          }
          &::before {
            background-color: var(--primary-base) !important;
          }
        }

        &.inactive {
          .tk-stepper-icon {
            background-color: var(--icon-light);
            border: 2px solid var(--border-light);
            color: var(--static-light);
          }
          &::before {
            background-color: var(--primary-base) !important;
          }
        }

        .tk-stepper-icon {
          position: absolute;
          left: -16px;
          z-index: 2;
          background-color: red;
          border-radius: 50%;
          width: var(--circle-size);
          height: var(--circle-size);
          display: flex;
          justify-content: center;
          align-items: center;
        }


      }
    }

    &.number {
      .tk-stepper-item {
        position: relative;
        display: flex;
        gap: 1.5rem;

        &.flip {
          flex-direction: row-reverse;
          align-items: center;
          .tk-stepper-icon {
            order: 2;
            right: -18px;
            left: unset;
          }
          .tk-stepper-content {
            order: 1;
            text-align: right;
          }
          .tk-step-info {
            margin-right: 30px;
            .tk-step-desc {
              padding-right: 0;
            }
          }
        }

        &:last-child {
          .tk-stepper-content {
            &:before {
              display: none;
            }
          }
        }

        &.completed {
          .tk-stepper-icon {
            background-color: var(--static-light);
            border: 2px solid var(--primary-base);
            color: var(--primary-base);
          }
          .tk-stepper-content {
            &::before {
              background-color: var(--primary-base) !important;
            }
          }
        }

        &.active {
          .tk-stepper-icon {
            background-color: var(--primary-base);
            border: 2px solid var(--primary-base);
            color: var(--static-light);
          }
          &::before {
            background-color: var(--primary-base) !important;
          }
        }

        &.inactive {
          .tk-stepper-icon {
            background-color: var(--icon-light);
            border: 2px solid var(--border-light);
            color: var(--static-light);
          }
          &::before {
            background-color: var(--primary-base) !important;
          }
        }

        .tk-stepper-icon {
          position: absolute;
          left: -16px;
          z-index: 2;
          background-color: red;
          border-radius: 50%;
          width: var(--circle-size);
          height: var(--circle-size);
          display: flex;
          justify-content: center;
          align-items: center;
          font-family: "Geologica", sans-serif;
          font-size: var(--desktop-body-xs-font);
          font-weight: bold;
        }
      }
    }



    .tk-stepper-content {
      padding-bottom: 5rem;

      &:before {
        content: "";
        position: absolute;
        top: calc(var(--circle-size) + var(--spacing));
        height: calc(100% - var(--circle-size) - calc(var(--spacing) * 2));
        width: 2px;
        background-color: lightgrey;
      }


      &:after {
        content: "";
        position: absolute;
        left: calc(0px - 12px);
        top: 0;
        width: 20px;
        height: 20px;
        z-index: 1;
        border-radius: 50%;
      }
    }

    .tk-step-label, .tk-step-desc {
      margin-left: 30px;
      padding-left: 0;
    }

  }

  /* ************************************************************ */

  .tk-step-label {
    font-size: var(--desktop-body-s-font);
    color: var(--text-dark);
    margin-bottom: 0.2rem;
  }

  .tk-step-desc {
    color: var(--text-base);
    font-size: var(--desktop-body-xs-font);
    padding-left: var(--spacing);
    padding-right: var(--spacing);
  }
}









